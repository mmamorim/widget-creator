{"version":3,"file":"widget-creator.umd.js","sources":["../src/e2aWidget/models/firebase/config-key.js","../src/e2aWidget/models/firebase/firebase.js","../src/e2aWidget/models/widget-model.js","../src/server/server.js","../src/server/manager.js","../src/server/widget_item.js","../src/creator/creator.js","../src/clone/clone.js"],"sourcesContent":["\nimport CryptoJS from \"crypto-js\"\n\nexport default function() {\n    const key = CryptoJS.enc.Utf8.parse(\"hf8685nfhfhjs9h8\");\n    const iv1 = CryptoJS.enc.Utf8.parse(\"hf8685nfhfhjs9h8\");\n    const plainText = CryptoJS.AES.decrypt('nQcXOmRHFeJxZtK8z0vg6mw+56NosLs/8I9POQWFEBs5ZJzqraJEe+9S6xaW8eHpNubzsmX+5qvFciisOtgvu57msPSmcPy3wnRYPzRbKDen30JgAaY6uzufSp+tZBeeMEDLVBJwPu/vSLd7qJdw3ofJ4uiIACAPiuKcg5k//ox3n1elzqwdMpBgsLkIhvo8YFnGWVGHr52t8inxEY28w6JV6RLOe95+6lwQoy94998FQNKyHg08GHCxaDXLb2gPwpgIHj8fS/SJAjxE8UTPBS8r+4IL3RH3HseQLHW4pkFW0aCtlwjPtKsziGIMTFcjQhIVxw648OC7MCaXTfuvUszpdboCWEH6SYCa1xgluKzgASnhDZJbU65mV0sqnGh8NFRxcrzU6eCGNKIyfS61b+6vfJD1NnsBhHXnwiCHewqavymbBWyl3Wt31UptpM4kVH7WLoZohbH509x5KMqJtg==', key, {\n        keySize: 16,\n        iv: iv1,\n        mode: CryptoJS.mode.ECB,\n        padding: CryptoJS.pad.Pkcs7\n    });\n    \n    return JSON.parse(plainText.toString(CryptoJS.enc.Utf8));\n}","import { initializeApp } from \"firebase/app\";\nimport { getDatabase } from \"firebase/database\";\nimport config from \"./config-key.js\"\n\n// Your web app's Firebase configuration\nconst fconfig = config();\n//console.log(\"fconfig\",fconfig);\n// Initialize Firebase\nconst app = initializeApp(fconfig, 'users-rtdb');\nconst rdb = getDatabase(app);\n\nexport { rdb }\n","import { rdb } from \"./firebase/firebase.js\"\nimport { ref, get, onValue, set } from \"firebase/database\";\n\nconst rdbmode = \"dev\" //\"dev\" //\"prod\"\nconst paths = {\n    \"prod\": \"/prod/\",\n    \"dev\": \"/dev/\"\n}\nconst rdbref = (path) => { \n    //console.log(\"acessando...\",paths[rdbmode]+path);\n    return ref(rdb,paths[rdbmode]+path) \n}\n\nexport default {\n    rdb,\n    rdbref,\n\n    async get(path) {\n        let snap = await get(rdbref(path))\n        return snap.val()\n    },\n\n    onValue(path,func) {\n        onValue(rdbref(path), (snap) => {\n            func(snap.val())\n        })\n    },\n    \n    async set(path,value) {\n        await set(rdbref(path),value)\n    }\n    \n}","import chokidar from 'chokidar'\nimport appRoot from 'app-root-path'\nimport chalk from 'chalk'\nimport { readFileSync } from 'fs'\nimport manager from './manager.js'\n\nconst server = {\n    cfg_widgets: '',\n    path: appRoot.path + \"/\",\n    user_dev: {}, \n\n    init(config) {\n        //console.log('config',config);\n        server.cfg_widgets = config.widgets_folder\n        server.path = server.path + server.cfg_widgets\n        server.user_dev = config.user_dev\n\n        const watcher = chokidar.watch(server.path, {\n            persistent: true\n        });\n        watcher\n            .on('change', (path, stats) => {\n                let path_names = path.split(`/${server.cfg_widgets}/`)\n                //console.log(path_names)\n                server.fileChange(path, path_names[1], stats.size)\n            })\n            console.log('📡 ' + chalk.green.bold(`escutando por widgets na pasta `)+server.cfg_widgets);        \n    },\n\n    async read(filePath) {\n        try {\n            let data = readFileSync(filePath, { encoding: 'utf8' })\n            return data\n        } catch (error) {\n            if (error.code == 'ENOENT') {\n                console.log(`[${filePath}] não encontrado!`);\n            } else {\n                console.log(`[${filePath}] ERRO desconhecido!`);\n            }\n        }\n    },\n\n    async fileChange(path, fileName, size) {\n        //console.log({path,fileName,size});\n        console.log('👀 ' + chalk.blue.bold(`Opa! percebi algo...`));\n        console.log('👀 ' + chalk.green.bold(`[${fileName}] alterado...`));\n        let data = await server.read(path)\n        //console.log(\"data\", data);\n        let m = manager(server.user_dev) \n        await m.parse(data)\n        if(m.widget.parseOk) {\n            console.log('parse ok');\n            //console.log('m.widget',m.widget.widget_info);\n            await m.publish_widget()\n            console.log('📡 ' + chalk.green.bold(`escutando por widgets na pasta `) + server.cfg_widgets);\n        }\n    }\n\n}\n\nexport default server","import chalk from 'chalk'\nimport widget_model from '../e2aWidget/models/widget-model.js'\nimport widget_item from \"./widget_item.js\"\n\nconst manager = function (userdev) {\n    const self = {\n        widget: null,\n        userdev,\n\n        async parse(data) {\n            self.widget = await widget_item(data, self.userdev)\n        },\n\n        async publish_widget() {\n            //console.log('self.widget.pathWG',self.widget.pathWG);\n\n            await self.checkNewVersion()\n            if (self.widget.widget_info.prod == undefined) {\n                self.widget.widget_info.prod = false\n            }\n            let widget_new = self.widget.widget_info\n            widget_new.template = self.widget.template\n            widget_new.script = self.widget.script\n            await widget_model.set(self.widget.pathWG, widget_new)\n            console.log(`🚀 widget ${self.widget.infoLog()} versão ${widget_new.version} PUBLICADA!`);\n            await widget_model.set(self.widget.pathWGUser, widget_new.namespace + '/' + widget_new.id)\n        },\n\n        async checkNewVersion() {\n            let widget_info = self.widget.widget_info \n            let widget = self.widget.widget_last\n            //console.log('widget.commit', widget.commit);\n            //console.log('widget_info.commit', widget_info.commit);\n            if (widget.commit != undefined && widget.commit != widget_info.commit) {\n                console.log('🔥 novo commit ' + chalk.green.bold(`[${widget.id}] [${widget.name}] ${widget_info.commit}`));\n                //let backup_path = 'widgets_backup/' + widget_info.namespace + '/' + widget.id + '/' + widget.version\n                await widget_model.set(self.widget.pathWGBkp, widget)\n                console.log('🗃️  widget antigo ' + chalk.green.bold(`[${widget.id}] [${widget.name}] backup versão ${widget.version} armazenado`));\n                widget.version++\n            }\n\n        }\n    }\n    return self\n}\n\nexport default manager","import { parseComponent } from 'vue-sfc-parser'\nimport chalk from 'chalk'\nimport widget_model from '../e2aWidget/models/widget-model.js'\n\nconst widget_item = async function (data, userdev) {\n\n    const self = {\n        widget_info: {},\n        widget_last: {},\n        template: '',\n        script: '',\n        userdev,\n        parseOk: false,\n        pathWG: 'widgets/',\n        pathWGUser: 'users_devs/',\n        pathWGBkp: 'widgets_backup/',\n\n        parse(data) {\n            const res = parseComponent(data)\n            //console.log(res.styles);\n            //return\n            if (res.template == null) {\n                console.log('🙁 ' + chalk.red.bold(`erro ao interpretar template...`));\n                return\n            }\n            let template = res.template.content.trim()\n            //console.log(template)\n            if (res.script != null) {\n                //console.log(res.script.content)\n                let tokens = res.script.content.split('export default')\n                let script = tokens[1].trim()\n\n                //console.log(script);\n                try {\n                    let func = new Function('widget,wg', `return ` + script)\n                    let scriptObj = func()\n                    //console.log('scriptObj', scriptObj);\n                    let widget_info = self.getWidgetInfo(scriptObj)\n                    if (widget_info == null) {\n                        console.log('🙁 ' + chalk.red.bold(`não foi possível a publicação...`));\n                        return\n                    }\n                    self.widget_info = widget_info\n                    self.template = template\n                    self.script = script\n                    self.parseOk = true\n                    //listener.publish_widget(widget_info, template, script)\n                } catch (e) {\n                    console.log('🙁 ' + chalk.red.bold(`Ohh não! script com erro...`));\n                    console.log(chalk.blue(e.name) + ': ' + chalk.red(e.message));\n                }\n            } else {\n                console.log('🙁 ' + chalk.red.bold(`erro ao interpretar script...`));\n            }\n        },\n\n        getWidgetInfo(scriptObj) {\n            let widget_info = scriptObj.widget\n            if (widget_info == undefined) {\n                console.log('🙁 ' + chalk.red.bold(`informações do widget não encontradas...`));\n                console.log('🤔 ' + chalk.blue(`você adicionou o atributo [widget] no component?`));\n                return null\n            }\n            if (widget_info.name == undefined) {\n                console.log('🙁 ' + chalk.red.bold(`nome do widget não encontrado...`));\n                console.log('🤔 ' + chalk.blue(`você adicionou o atributo [name] p/ o widget?`));\n                return null\n            }\n            if (widget_info.id == undefined) {\n                console.log('🙁 ' + chalk.red.bold(`id do widget não encontrado...`));\n                console.log('🤔 ' + chalk.blue(`você adicionou o atributo [id] p/ o widget?`));\n                return null\n            }\n            if (widget_info.namespace == undefined) {\n                console.log('🙁 ' + chalk.red.bold(`namespace do widget não encontrado...`));\n                console.log('🤔 ' + chalk.blue(`você adicionou o atributo [namespace] p/ o widget?`));\n                return null\n            }\n            if (widget_info.commit == undefined) {\n                console.log('🙁 ' + chalk.red.bold(`commit do widget não encontrado...`));\n                console.log('🤔 ' + chalk.blue(`você adicionou o atributo [commit] p/ o widget?`));\n                return null\n            }\n            console.log('👀 widget ' + chalk.green.bold(`[${widget_info.id}] [${widget_info.name}] encontrado...`));\n            return widget_info\n        },\n\n        async checkFirstVersion() {\n            let widget = await widget_model.get(self.pathWG)\n            if(widget == null) {\n                console.log(`👀 widget ${self.infoLog()} PRIMEIRA VERSÃO`);\n                self.widget_info.devs = {}\n                self.widget_info.devs[self.userdev.id] = self.userdev\n            } else {\n                console.log(`👀 widget ${self.infoLog()} ${widget.version} ENCONTRADA`);\n                self.widget_info.devs = widget.devs\n                self.widget_info.devs[self.userdev.id] = self.userdev\n                self.widget_last = widget\n            }\n        },\n\n        infoLog() {\n            let wg = self.widget_info\n            return chalk.green.bold(`[🏷️ NS:${wg.namespace}] [🪪 ID:${wg.id}] [NAME:${wg.name}]`)\n        }\n    }\n    self.parse(data)\n    if (self.parseOk) {\n        self.pathWG = self.pathWG + self.widget_info.namespace + '/' + self.widget_info.id\n        self.pathWGUser = self.pathWGUser + self.userdev.id+'/'+self.widget_info.id\n        self.pathWGBkp = self.pathWGBkp + self.widget_info.namespace + '/' + self.widget_info.id + '/' + self.widget_info.version\n        await self.checkFirstVersion()\n    } else {\n        self.pathWG = self.pathWG + 'no-id'\n        self.pathWGUser = self.pathWGUser + 'no-id'\n        self.pathWGBkp = self.pathWGBkp + 'no-id'\n    }\n    return self\n}\n\nexport default widget_item","import chalk from 'chalk'\nimport server from \"../server/server.js\"\n\nconst creator = {\n    prefix: '',\n    user_dev: '',\n    set_config: false,\n    config: undefined,\n\n    setPrefix(prefix) {\n        creator.prefix = prefix\n    },\n\n    missingField(field, attribute_name, location) {\n        if (field == undefined) {\n            console.log('🙁 ' + chalk.red.bold(`informações não encontradas...`));\n            console.log('🤔 ' + chalk.blue(`você adicionou o atributo [${attribute_name}] no ${location} ?`));\n            return false\n        } \n        return true\n    },\n\n    setConfig(config) {\n        creator.set_config = true\n        if(!creator.missingField(config.user_dev,'user_dev','config.json')) {\n            return\n        }\n        if(!creator.missingField(config.user_dev.id,'user_dev.id','config.json')) {\n            return\n        }\n        if(!creator.missingField(config.user_dev.name,'user_dev.name','config.json')) {\n            return\n        }\n        creator.config = config\n        creator.user_dev = config.user_dev\n    },\n\n    splash() {\n        console.log(\"🧱🧱🧱🧱🧱🧱🧱🧱🧱🧱🧱\");\n        console.log(`  🟥🔷 ${creator.prefix} widget`);\n        console.log(\"  {}🟪 CREATOR (v 1.0)\");\n        console.log(\"🧱🧱🧱🧱🧱🧱🧱🧱🧱🧱🧱\");\n\n        console.log(chalk.yellow.bold(`👨‍💻 Olá ${creator.user_dev.name}!`));\n    },\n\n    init() {\n        if(!creator.set_config) {\n            console.log('🙁 ' + chalk.red.bold(`config não inicializado...`));\n            console.log('🤔 ' + chalk.blue(`você chamou setConfig() ?`));\n            return\n        }\n        creator.splash()\n        server.init(creator.config)\n    }\n}\n\nexport default creator","import chalk from 'chalk'\nimport widget_model from '../e2aWidget/models/widget-model.js'\nimport { writeFileSync } from 'fs'\n\nconst clone = {\n    prefix: '',\n    user_dev: '',\n    set_config: false,\n    config: undefined,\n\n    setPrefix(prefix) {\n        clone.prefix = prefix\n    },\n\n    missingField(field, attribute_name, location) {\n        if (field == undefined) {\n            console.log('🙁 ' + chalk.red.bold(`informações não encontradas...`));\n            console.log('🤔 ' + chalk.blue(`você adicionou o atributo [${attribute_name}] no ${location} ?`));\n            return false\n        } \n        return true\n    },\n\n    setConfig(config) {\n        clone.set_config = true\n        if(!clone.missingField(config.user_dev,'user_dev','config.json')) {\n            return\n        }\n        if(!clone.missingField(config.user_dev.id,'user_dev.id','config.json')) {\n            return\n        }\n        if(!clone.missingField(config.user_dev.name,'user_dev.name','config.json')) {\n            return\n        }\n        clone.config = config\n        clone.user_dev = config.user_dev\n    },\n\n    splash() {\n        console.log(\"〰️〰️〰️〰️〰️〰️〰️〰️〰️〰️〰️\");\n        console.log(`  🟥🔷 ${clone.prefix} widget`);\n        console.log(\"  {}🟪 CLONE (v 1.0)\");\n        console.log(\"〰️〰️〰️〰️〰️〰️〰️〰️〰️〰️〰️\");\n\n        console.log(chalk.yellow.bold(`👨‍💻 Olá ${clone.user_dev.name}!`));\n    },\n\n    async init(namespace,id) {\n        if(!clone.set_config) {\n            console.log('🙁 ' + chalk.red.bold(`config não inicializado...`));\n            console.log('🤔 ' + chalk.blue(`você chamou setConfig() ?`));\n            return\n        }\n        clone.splash()\n        let wg_info = chalk.green.bold(`[🏷️ NS:${namespace}] [🪪 ID:${id}]`)\n        console.log('👀 procurando widget ' + wg_info);\n\n        let path = `widgets/${namespace}/${id}`\n        let widget = await widget_model.get(path)\n        if(widget == null) {\n            console.log('🙁 ' + chalk.red.bold(`não encontrado...`));\n        } else {\n            console.log('👍 ' + chalk.green.bold(`achei`));\n            console.log('💫 ' + chalk.blue(`clonando em na pasta `)+clone.config.widgets_folder);\n            //console.log('widget',widget);        \n            let content = \"<template>\\n\\t\"+widget.template+\"\\n</template>\"\n            content = content + \"\\n<script>\\nexport default \"+widget.script+\"\\n</script>\"\n            let file_path = clone.config.widgets_folder+'/'+widget.id+'.vue'\n            await writeFileSync(file_path,content)\n            console.log('💫 ' + chalk.blue(`arquivo `)+widget.id+'.vue' + chalk.green.bold(` salvo com sucesso!`));\n        }\n\n        \n        //server.init(creator.config)\n    }\n}\n\n\nexport default clone"],"names":["key","iv1","fconfig","CryptoJS","enc","Utf8","parse","AES","decrypt","keySize","iv","mode","ECB","padding","pad","Pkcs7","JSON","plainText","toString","initializeApp","rdb","getDatabase","app","rdbref","path","ref","widget_model","get","then","snap","val","onValue","value","set","e","Promise","reject","server","cfg_widgets","appRoot","user_dev","init","config","widgets_folder","chokidar","watch","persistent","on","stats","split","fileChange","path_names","size","console","log","chalk","green","bold","read","filePath","readFileSync","encoding","data","error","code","resolve","fileName","blue","userdev","self","widget","widget_item","widget_info","widget_last","template","script","parseOk","pathWG","pathWGUser","pathWGBkp","res","parseComponent","content","trim","scriptObj","func","getWidgetInfo","red","name","message","undefined","id","namespace","commit","checkFirstVersion","infoLog","devs","version","wg","_temp2","_widget_item","publish_widget","checkNewVersion","prod","widget_new","manager","m","_temp","creator","prefix","set_config","setPrefix","missingField","field","attribute_name","location","setConfig","splash","yellow","clone","wg_info","writeFileSync"],"mappings":"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"}